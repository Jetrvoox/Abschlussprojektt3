<!DOCTYPE html>
<html>
<head>
    <title>Your Cart</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet"/>
</head>
<body>
<header class="luxury-header">
    <nav>
        <div class="header-left">
            <a href="/" class="logo">Fromagerie</a>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/shop.html">Shop</a></li>
                <li><a href="/about.html">About</a></li>
            </ul>
        </div>
        <div class="header-right">
            <a href="/cart.html" class="cart-link">
                Cart (<span id="cart-count">0</span>)
            </a>
            <a href="/login.html" class="login-link">Login</a>
        </div>
    </nav>
</header>
<h1>Shopping Cart</h1>
<div id="cart-items"></div>
<button onclick="window.location.href='/checkout.html'">Checkout</button>

<script src="/js/cart.js"></script>
<script>
    async function displayCart() {
        const response = await fetch('/api/products');
        const products = await response.json();

        const cartItems = window.cart.items.map(item => {
            const product = products.find(p => p.id === item.id);
            return `
          <div class="cart-item">
            <h3>${product.name}</h3>
            <p>Quantity: ${item.quantity}</p>
            <button onclick="window.cart.removeItem(${item.id})">Remove</button>
          </div>
        `;
        }).join('');

        document.getElementById('cart-items').innerHTML = cartItems;
    }

    document.addEventListener('DOMContentLoaded', displayCart);
</script>
<script src="public/js/cart.js"></script>
</body>
</html>